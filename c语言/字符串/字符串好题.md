# 口算 
## 题目描述

王老师正在教简单算术运算。细心的王老师收集了 ii 道学生经常做错的口算题，并且想整理编写成一份练习。编排这些题目是一件繁琐的事情，为此他想用计算机程序来提高工作效率。王老师希望尽量减少输入的工作量，比如 5+85+8 的算式最好只要输入 55 和 88，输出的结果要尽量详细以方便后期排版的使用，比如对于上述输入进行处理后输出 5+8=135+8=13 以及该算式的总长度 66。王老师把这个光荣的任务交给你，请你帮他编程实现以上功能。

## 输入格式

第一行一个整数 ii。

接着的 ii 行为需要输入的算式，每行可能有三个数据或两个数据。

若该行为三个数据则第一个数据表示运算类型，aa 表示加法运算，bb 表示减法运算，cc 表示乘法运算，接着的两个数据表示参加运算的运算数。

若该行为两个数据，则表示本题的运算类型与上一题的运算类型相同，而这两个数据为运算数。

## 输出格式

输出 2×i2×i 行。对于每个输入的算式，输出完整的运算式及结果，第二行输出该运算式的总长度。

## 输入输出样例
输入
4
a 64 46
275 125
c 11 99
b 46 64
输出
64+46=110
9
275+125=400
11
11* 99=1089
10
46-64=-18
9

## code achievement
```c
#include<stdio.h>

#include<string.h>

int main(void){

int count;

scanf("%d", &count);

getchar();//收换行

char ch, exp[100], line[100];

int m, n;

  

char lastOp = 0;

for(int i = 0; i < count; i++){

fgets(line, sizeof(line), stdin);//输入计算数据

char ch;

// 检查第一个字符是不是字母（运算符）

if(line[0] == 'a' || line[0] == 'b' || line[0] == 'c') {

// 是三个数据

sscanf(line, "%c %d %d", &lastOp, &m, &n);

} else {

// 是两个数据

sscanf(line, "%d %d", &m, &n);

// 使用上一题的运算符

}

  
  

//lastop作为🚩

if(lastOp == 'a') {

sprintf(exp, "%d+%d=%d", m, n, m+n);

int len = strlen(exp);

printf("%s\n%d\n", exp, len);

}

else if(lastOp == 'b') {

sprintf(exp, "%d-%d=%d", m, n, m-n);

int len = strlen(exp);

printf("%s\n%d\n", exp, len);

}

else if(lastOp == 'c') {

sprintf(exp, "%d*%d=%d", m, n, m*n);

int len = strlen(exp);

printf("%s\n%d\n", exp, len);

}

}

}
```
### sprintf&sscanf
#### 1. **`sprintf`（字符串格式化输出）**

**作用**：将格式化的数据**写入字符串**（类似`printf`输出到屏幕，但`sprintf`输出到字符串）

**格式**：
```c
int sprintf(char *str, const char *format, ...);
```

**示例**：
```c
char buffer[100];
int a = 10, b = 20, result = 30;

// 将格式化的字符串写入buffer
sprintf(buffer, "%d+%d=%d", a, b, result);
// buffer现在的内容是："10+20=30"
```

**在你代码中的应用**：
```c
sprintf(exp, "%d+%d=%d", m, n, m+n);
// 将算式和结果写入exp字符串，比如"5+8=13"
```


#### 2. **`sscanf`（字符串格式化输入）**

**作用**：从字符串中**读取格式化的数据**（类似`scanf`从键盘读取，但`sscanf`从字符串读取）

**格式**：


```c
int sscanf(const char *str, const char *format, ...);
```

**示例**：
```c
char input[] = "a 5 8";
char op;
int x, y;

// 从input字符串中读取数据
sscanf(input, "%c %d %d", &op, &x, &y);
// 结果：op='a', x=5, y=8
```

**在你代码中的应用**：
```c
sscanf(line, "%c %d %d", &ch, &m, &n);
// 从line字符串中解析出字符和两个整数
```

